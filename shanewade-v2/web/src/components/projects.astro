---
import "@styles/components.css";
import "@styles/colors.css";

const projects = [
    {
        title: "My electric longboard jounrey",
        href: "/projects/eSk8",
        image: "https://lh3.googleusercontent.com/pw/AJFCJaXAPCjl-Svlvw1HcLY_XvXbRGtEWu2HWo5ruRqHHqNPbv3-ooRGcCEB0Rz_99F4gzifbG85tsi8ye-cW8e4MOnK9H-kEcaHK1NFOnKlHkLHlcQ_97bcZKtJrc3jCbTIvuO8cqw9wdTq0-uHQq0gzWd5=w1716-h1145-s-no?authuser=1",
        description:
            "Electric longboards are the closest thing that we have to hoverboards.  I rode my boards everywhere and met some very interesting people along the way.",
    },
    {
        title: "Electric bikes",
        href: "/projects/eBikes",
        image: "https://lh3.googleusercontent.com/pw/AJFCJaU3vl-7x6HDbJ0zeAGizM1xbIpwzcjn_UKGJKdgpkHBTXyJPScCLOECWLnzGLaD-I0D8oDaLwbROEgLz1nPd7f3pTlYs8_CcMQBVh8ODwtzpBvIt1UxZRpJf3UYdQjoHqAcyLg_kA-aYBwdFYCkn-RV=w1716-h1287-s-no?authuser=1",
        description:
            "Maybe you do want mechanical brakes when you're bombing a hill?",
    },
    {
        title: "The electric motorcycle failure",
        href: "/projects/eMotoL",
        image: "https://lh3.googleusercontent.com/pw/AJFCJaWtaVFW3u_f1A4lv88M8mOE4v9yXGz7O9IsI4_H44minjvQFXSKn-ZRcYJkDrj8Yl31yWzwVgMcdscgzlTAgAbUzcH8KOGWBBkArzz8BBwqfEm9kCIXNz7ywGwkWiX4xiFRdrervDnwA2rSUB7fR4l7=w1716-h1287-s-no?authuser=1",
        description:
            "Of course I had to keep my electric vehicle journey going, the obvious next step was a motorcycle",
    },
    {
        title: "The 2 stroke pivot: vintage mopeds",
        href: "/projects/vintageMopeds",
        image: "https://lh3.googleusercontent.com/pw/AJFCJaXgnFm-1mhCsLEmuDVs-Ydqo8FtzLgBr4U6nET8D7mBBc0BBk3lkq7JGjD0NKVpRcmIwt9VCbIFQ5dtR0Pz4UUxrVFCLYK7fmfcyNLbx_RyC6Grugbv4MDqBzfW1mBCrYtBwpvVaaTDhk2S-ZItG3g4=w1716-h1287-s-no?authuser=1",
        description:
            "I learned a few good lessons from the electric motorcycle project.  I wasn't ready to give up on my two-wheel-dreams so I pivoted to 2-stroke mopeds. *BRAAAAPPPPPP",
    },
    {
        title: "Bob Ross Night!",
        href: "/projects/bobRoss",
        image: "https://lh3.googleusercontent.com/pw/AJFCJaXRXH2M4Nu9FB0Q6sLxgtGPhHokDaPoV8KxBtfxhg0otSZZXODsgJoXXuNZSeWUpkkv0uWn0X0s9_fTAaEBS0elhzOy5v0ZqecW9uspbnpX-l14bLjvV-6RNClyaZs0PM-bFaoeaNFKiYYMa8vfPTP8=w640-h480-s-no?authuser=1",
        description: "We're going to need a bigger easel...",
    },
    {
        title: "AI Auction House",
        href: "/projects/AAH",
        image: "https://lh3.googleusercontent.com/pw/AJFCJaVm4zsTNb00v1dGJqt7T-fqps2PGBc3arQ0ihKTY8ulA0WnFtS_6k-nu2Myhhb6If-9-yZH1hSLQLvrLkxbgD9sHTHEO_4kVRs8nZWMP6fpLOQoq9O2FJ_djUMmghBsQD3X6GSvg5sbpgPoeUpU2dKX=w512-h512-s-no?authuser=1",
        description: "An intro experience to the monetization of generative AI",
    },
].reverse();
---

<style>
    .projects-container {
        padding: 0;
        padding-top: 8rem;
        max-width: 80rem;
        margin: auto;
        display: flex;
        flex-direction: column;
    }

    .projects-container h2 {
        margin-top: 0;
        padding: 0 2rem;
    }

    .projects-scroll {
        display: flex;
        gap: 1rem;
        overflow-x: auto;
        padding: 2rem;
        scroll-behavior: smooth;
    }

    .project-card {
        max-width: 25rem;
        min-width: 20rem;
        text-align: center;
        cursor: pointer;
        transition:
            transform 0.2s ease,
            box-shadow 0.2s ease;
    }

    .project-card:hover {
        transform: translateY(-4px);
        box-shadow: var(--shadow-md);
    }

    .project-image {
        width: 15rem;
        border-radius: 7px;
        display: block;
        margin: 0 auto;
    }

    .project-summary {
        text-align: left;
        padding: 1rem 0;
    }

    .project-summary h3 {
        margin: 0 0 1rem 0;
    }

    .project-summary p {
        margin: 0;
        line-height: 1.5;
    }
</style>

<div id="projects-section" class="projects-container">
    <h2>Projects</h2>
    <section class="projects-scroll" id="projects-scroll">
        {
            projects.map((project) => (
                <article class="project-card card">
                    <a
                        href={project.href}
                        target="_blank"
                        style="text-decoration: none; color: inherit;"
                    >
                        <img
                            src={project.image}
                            alt={`${project.title}, main image`}
                            class="project-image"
                        />
                        <div class="project-summary">
                            <h3>{project.title}</h3>
                            <p>{project.description}</p>
                        </div>
                    </a>
                </article>
            ))
        }
    </section>
</div>

<script>
    // Add scroll animation when section comes into view
    const projectsScroll = document.getElementById("projects-scroll");

    if (projectsScroll) {
        let hasAnimated = false;

        const observer = new IntersectionObserver(
            (entries) => {
                entries.forEach((entry) => {
                    if (entry.isIntersecting && !hasAnimated) {
                        // Small animation to indicate scrollability
                        setTimeout(() => {
                            projectsScroll.scrollTo({
                                left: 150,
                                behavior: "smooth",
                            });
                            setTimeout(() => {
                                projectsScroll.scrollTo({
                                    left: 0,
                                    behavior: "smooth",
                                });
                                hasAnimated = true;
                            }, 500);
                        }, 100);
                    }
                });
            },
            {
                threshold: 0.75,
            },
        );

        observer.observe(projectsScroll);
    }
</script>
